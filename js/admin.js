!function(n){var a={};function i(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=3)}([,,,function(e,t,n){"use strict";n(4);new function e(t,n,a){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init=function(){r.gallery.addEventListener("click",r.handleClick)},this.helper=function(e){console.log(r.target),r.target.getElementsByTagName("input")[0].value=e,r.target.getElementsByTagName("img")[0].src=e},this.openMediaSingle=function(e){r.target=e,r.wp_media_s||(r.wp_media_s=wp.media.frames.wp_media_s=wp.media({title:r.gallery.dataset.titleS,button:{text:r.gallery.dataset.button}}),r.wp_media_s.on("select",function(){var e=r.wp_media_s.state().get("selection").first().toJSON();r.helper(e.url)})),r.wp_media_s.open()},this.openMedia=function(){r.wp_media||(r.wp_media=wp.media.frames.wp_media=wp.media({title:r.gallery.dataset.title,button:{text:r.gallery.dataset.button},multiple:!0}),r.wp_media.on("select",function(){r.wp_media.state().get("selection").map(function(e){return e.toJSON(),{url:e.attributes.url,id:e.id}}).forEach(function(e){r.addImg(e.url)})})),r.wp_media.open()},this.handleClick=function(e){e.preventDefault();var t=e.target;t===r.addBtn&&r.openMedia(),t.closest(".gallery__close")?r.remove(t.closest(".gallery__fig"),r.images):t.closest(".gallery__fig")&&r.openMediaSingle(t.closest(".gallery__fig"))},this.remove=function(e,t){r.gallery.removeChild(e),t.splice(t.indexOf(e),1),t.forEach(function(e,t){e.getElementsByTagName("input")[0].name=r.gallery.dataset.name+"["+t+"]"})},this.addImg=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"img/src",t=document.createElement("figure"),n=document.createElement("img"),a=document.createElement("input"),i=document.createElement("button");a.type="text",a.name=r.gallery.dataset.name+"["+r.images.length+"]",n.src=e,a.value=e,t.classList.add("gallery__fig"),n.classList.add("gallery__img"),a.classList.add("gallery__input"),i.classList.add("gallery__close"),i.classList.add("gallery__btn"),t.appendChild(n),t.appendChild(a),t.appendChild(i),r.gallery.insertBefore(t,r.addBtn),r.images.push(t)},this.gallery=document.getElementById(t),this.addBtn=document.getElementById(n),this.images=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.gallery.getElementsByClassName(a)))}("galleryContainer","addBtn","gallery__fig").init()},function(e,t,n){}]);